<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Udemy] Udemy K8s Docker 강의 후기 | Halog</title><meta name=keywords content=","><meta name=description content="Udemy 강의중 Docker & Kubernetes 강의 를 수강 후 내용 정리 및 리뷰를 작성합니다.
우선 Udemy는 외국 강의가 많고, 한달에 여러번 할인을 하기에 괜찮은 강의가 있으면 미리 결재해 놓는게 좋습니다.
강의 후기 Udemy 강의는 할인 가격이 저렴해서 그런지 외국 강의라 그런지 수강률이 높지 않은데 해당 강의는 제가 Udemy에서 수강했었던 강의 중 만족도는 상위권이라 생각합니다.
주로 Backend 개발자 입장에서 해당 강의로 얻을 수 있는 점은 Docker와 Docker-compose를 이용해 개발 생산성을 높일 수 있다 생각합니다."><meta name=author content><link rel=canonical href=https://haservi.github.io/posts/review/udemy-k8s-docker/><meta name=google-site-verification content="G-MXZP81P04W"><link rel=stylesheet as=style crossorigin href=https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/static/pretendard.css><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://haservi.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://haservi.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://haservi.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://haservi.github.io/apple-touch-icon.png><link rel=mask-icon href=https://haservi.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1400973749140762" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RP5NDCM8J9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-RP5NDCM8J9",{anonymize_ip:!1})}</script><meta property="og:title" content="[Udemy] Udemy K8s Docker 강의 후기"><meta property="og:description" content="Udemy 강의중 Docker & Kubernetes 강의 를 수강 후 내용 정리 및 리뷰를 작성합니다.
우선 Udemy는 외국 강의가 많고, 한달에 여러번 할인을 하기에 괜찮은 강의가 있으면 미리 결재해 놓는게 좋습니다.
강의 후기 Udemy 강의는 할인 가격이 저렴해서 그런지 외국 강의라 그런지 수강률이 높지 않은데 해당 강의는 제가 Udemy에서 수강했었던 강의 중 만족도는 상위권이라 생각합니다.
주로 Backend 개발자 입장에서 해당 강의로 얻을 수 있는 점은 Docker와 Docker-compose를 이용해 개발 생산성을 높일 수 있다 생각합니다."><meta property="og:type" content="article"><meta property="og:url" content="https://haservi.github.io/posts/review/udemy-k8s-docker/"><meta property="og:image" content="https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-09T10:58:32+09:00"><meta property="article:modified_time" content="2023-07-09T10:58:32+09:00"><meta property="og:site_name" content="Halog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover.png"><meta name=twitter:title content="[Udemy] Udemy K8s Docker 강의 후기"><meta name=twitter:description content="Udemy 강의중 Docker & Kubernetes 강의 를 수강 후 내용 정리 및 리뷰를 작성합니다.
우선 Udemy는 외국 강의가 많고, 한달에 여러번 할인을 하기에 괜찮은 강의가 있으면 미리 결재해 놓는게 좋습니다.
강의 후기 Udemy 강의는 할인 가격이 저렴해서 그런지 외국 강의라 그런지 수강률이 높지 않은데 해당 강의는 제가 Udemy에서 수강했었던 강의 중 만족도는 상위권이라 생각합니다.
주로 Backend 개발자 입장에서 해당 강의로 얻을 수 있는 점은 Docker와 Docker-compose를 이용해 개발 생산성을 높일 수 있다 생각합니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://haservi.github.io/posts/"},{"@type":"ListItem","position":2,"name":"[Udemy] Udemy K8s Docker 강의 후기","item":"https://haservi.github.io/posts/review/udemy-k8s-docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Udemy] Udemy K8s Docker 강의 후기","name":"[Udemy] Udemy K8s Docker 강의 후기","description":"Udemy 강의중 Docker \u0026amp; Kubernetes 강의 를 수강 후 내용 정리 및 리뷰를 작성합니다.\n우선 Udemy는 외국 강의가 많고, 한달에 여러번 할인을 하기에 괜찮은 강의가 있으면 미리 결재해 놓는게 좋습니다.\n강의 후기 Udemy 강의는 할인 가격이 저렴해서 그런지 외국 강의라 그런지 수강률이 높지 않은데 해당 강의는 제가 Udemy에서 수강했었던 강의 중 만족도는 상위권이라 생각합니다.\n주로 Backend 개발자 입장에서 해당 강의로 얻을 수 있는 점은 Docker와 Docker-compose를 이용해 개발 생산성을 높일 수 있다 생각합니다.","keywords":["",""],"articleBody":"Udemy 강의중 Docker \u0026 Kubernetes 강의 를 수강 후 내용 정리 및 리뷰를 작성합니다.\n우선 Udemy는 외국 강의가 많고, 한달에 여러번 할인을 하기에 괜찮은 강의가 있으면 미리 결재해 놓는게 좋습니다.\n강의 후기 Udemy 강의는 할인 가격이 저렴해서 그런지 외국 강의라 그런지 수강률이 높지 않은데 해당 강의는 제가 Udemy에서 수강했었던 강의 중 만족도는 상위권이라 생각합니다.\n주로 Backend 개발자 입장에서 해당 강의로 얻을 수 있는 점은 Docker와 Docker-compose를 이용해 개발 생산성을 높일 수 있다 생각합니다.\n물론 Kubernetes도 충분히 의미가 있었지만 강의에서 그렇게 깊게 다루진 않은 것 같습니다.\n실무에서도 backend 서버 테트를 위해서 종종 front 코드를 열때도 docker-compose를 이용하면 좋습니다.\n위와 같이 front 프로젝트를 소스코드만 바인드 마운트로 설정 후 Docker로 프로젝트를 정의하고, docker-compose를 볼륨 이용해 여러 front 프로젝트를 관리하면 더 이상 node version과 다양한 설정에 대한 고민을 하지 않아 좋습니다.\n강의 내용 정리 클론 코딩 을 하며 강의에서 들었던 내용 중 몇몇 내용을 정리했습니다.\n도커 명령어 관련 정보 -p 포트 설정 ex) 3000:80 -\u003e host port:container port -d `detached mode로 도커 컨테이너를 백그라운드에서 실행 --name 컨테이너 이름 지정 --rm 피드백이 중지 시 자동으로 컨테이너 제거 -v 볼륨 지정 명명된 볼륨은 컨테이너가 제거하지 않음 :ro 읽기 전용 -f: 도커 파일명을 지정할 수 있음 도커 내부에서 나의 로컬 호스트를 아는 방법\n1 localhost:port -\u003e host.docker.internal:port docker 명령어 예제\n1 docker run -d -p 3000:80 --rm --name feedback-app -v feedback:/app/feedback -v $(pwd):/app -v /app/node_modules feedback-node 바인드 마운트 단축키\n프로젝트 경로에서 /src만 바인드 마운트 후 docker의 /app 폴더에 바인드 마운트\n1 2 macOS/Linux: -v$(pwd)/src:/app/src Windows: -v ${PWD}/src:/app/src 도커 컨테이너 및 이미지 한번에 제거\n1 2 3 4 docker container prune docker image prune # 이게 안되면 아래거로 docker rmi $(docker images -a -q) docker volume prune Docker Compose 도커 컴포즈 실행\n-d: detached 모드 up –build: 이미지를 리빌드 1 docker-compose up -d 도커 컴포즈 종료\n-v: 볼륨과 함께 제거 1 docker-compose down -v docker.prod 설정 관련 Docker CMD에서 CMD [ \"npm\", \"start\" ]값은 기본적으로 package.json의 스크립트에 있는 start 명령어를 실행한다.\n이외에는 가운데에 CMD [ \"npm\", \"run\", \"start\" ]을 추가해서 스크립트 실행해야한다.\nnginx docker menual 을 참조하여 빌드된 파일의 위치를 지정해야 한다.\n멀티스테이지 빌드로 하나의 도커파일에 여러 이미지를 빌드할 수 있다.\n-f: 도커 파일명을 지정할 수 있음\n1 docker build -f frontend/Dockerfile.prod ./frontend 기타 명령어 컨테이너 제거\n1 docker rm [mycontainer] 이미지 제거\n1 docker rmi [myimage] 볼륨 확인\n1 docker volume ls 볼륨 제거\n1 docker volume rm [volume name] AWS에 대해 AWS는 Amazon Web Services의 약어로, 아마존닷컴이 제공하는 클라우드 컴퓨팅 서비스 플랫폼입니다. AWS는 컴퓨팅, 스토리지, 데이터베이스, 분석, 인공지능, IoT 및 기타 다양한 서비스를 제공하여 기업이나 개인이 필요로 하는 IT 인프라를 클라우드 기반으로 구축하고 관리할 수 있도록 도와줍니다. 아래 링크는 AWS에 대한 강사분의 영상 설명 링크입니다.\nAWS에 대한 유튜브 영상 링크 도커 이미지 공식홈페이지 등록/업데이트/가져오기 도커 이미지 등록\n1 2 3 4 docker login # 로그인 docker build -t node-dep-example . # 이미지 생성 docker tag node-dep-example [docker id]/node-dep-example # 태그 지정 docker push [docker id]/node-dep-example # 푸시 도커 이미지 업데이트 방법\n1 2 3 docker build -t node-dep-example . # 동일한 태그로 등록 docker tag node-dep-example [docker id]/node-dep-example:0.1 # 버전 명시 docker push [docker id]/node-dep-example:0.1 # 푸시 도커 이미지 가져오기\n1 docker pull [docker id]/node-dep-example:0.1 팁으로 도커 이미지의 변화없이 같으면 이미지의 이름은 다르지만 이미지ID가 같아서 삭제가 안되는 경우가 있다. 이럴 때는 아래와 같이 태그를 명시해서 제거할 수 있다.\n1 docker rmi [이미지이름:tag] 쿠버네티스 쿠버네티스에서 사용자가 유의해야 할 것은 클러스터와 노드 생성이다.\nmac apple arm 기준 설치\n1 brew install kubectl VitureBox 설치 후 minikube 설치\n1 2 3 brew install minikube minikube start --driver=virtualbox # 이게 안되면 minikube start --driver=docker # 이거 설치 확인\n1 minikube status 대시보드 확인\n1 minikube dashboard 쿠버네티스의 주요 개념 중 하나는 파드(Pod)입니다.\n파드는 쿠버네티스에서 실행되는 가장 작은 배포 단위이며, 일반적으로 파드는 하나 이상의 컨테이너로 구성되며, 이 컨테이너들은 동일한 호스트에서 동작하고 동일한 네트워크 네임스페이스와 IP 주소를 공유합니다.\nkubectl api-resources를 입력하면 kubectl의 명령어를 어느 정도 확인 할 수 있습니다.\nPod란?\nKubernetes(K8s)에서 Pod는 가장 작은 배포 단위이며, Pod는 K8s 클러스터 내에서 실행되는 하나 이상의 컨테이너 그룹입니다. Pod는 논리적인 호스트 또는 노드에서 실행되며, 컨테이너, 저장소, 네트워크 리소스 등을 공유할 수 있습니다.\n각각의 Pod는 고유한 IP 주소를 가지며, 포트 공간을 공유하여 서로 통신할 수 있습니다. Pod는 주로 관련된 서비스를 함께 실행하기 위해 사용되며, 서비스 디스커버리, 로깅, 모니터링 등을 위한 사이드카 컨테이너를 함께 포함할 수도 있습니다.\nPod는 일시적인 존재이며, 언제든지 새로운 Pod로 교체될 수 있으며, 이는 확장성과 견고성을 높이기 위한 K8s의 핵심 개념 중 하나입니다.\n노드(Node)는 K8s 클러스터의 물리적 또는 가상의 서버입니다. 노드는 Pod를 실행하는 호스트로 사용되며, 컨테이너 런타임(예: Docker)과 K8s 에이전트가 설치되어 있습니다. 각 노드는 일련의 리소스(CPU, 메모리, 디스크 등)를 제공하고, Pod를 스케줄링하여 실행합니다. 여러 개의 Pod는 여러 노드에 분산되어 실행될 수 있습니다.\n","wordCount":"748","inLanguage":"ko","image":"https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover.png","datePublished":"2023-07-09T10:58:32+09:00","dateModified":"2023-07-09T10:58:32+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://haservi.github.io/posts/review/udemy-k8s-docker/"},"publisher":{"@type":"Organization","name":"Halog","logo":{"@type":"ImageObject","url":"https://haservi.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://haservi.github.io/ accesskey=h title="Halog (Alt + H)">Halog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://haservi.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://haservi.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://haservi.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://haservi.github.io/>홈</a>&nbsp;»&nbsp;<a href=https://haservi.github.io/posts/>Posts</a></div><h1 class=post-title>[Udemy] Udemy K8s Docker 강의 후기</h1><div class=post-meta><span title='2023-07-09 10:58:32 +0900 +0900'>7월 9, 2023</span>&nbsp;·&nbsp;4 분</div></header><figure class=entry-cover><img loading=lazy srcset="https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover_hu7b5fb7c1ae859872023a0f111e967254_1065292_360x0_resize_box_3.png 360w ,https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover_hu7b5fb7c1ae859872023a0f111e967254_1065292_480x0_resize_box_3.png 480w ,https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover_hu7b5fb7c1ae859872023a0f111e967254_1065292_720x0_resize_box_3.png 720w ,https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover_hu7b5fb7c1ae859872023a0f111e967254_1065292_1080x0_resize_box_3.png 1080w ,https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover_hu7b5fb7c1ae859872023a0f111e967254_1065292_1500x0_resize_box_3.png 1500w ,https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover.png 1688w" sizes="(min-width: 768px) 720px, 100vw" src=https://haservi.github.io/posts/review/udemy-k8s-docker/images/cover.png alt width=1688 height=949><p><text></p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>목차</span></summary><div class=inner><ul><ul><li><a href=#%ea%b0%95%ec%9d%98-%ed%9b%84%ea%b8%b0 aria-label="강의 후기">강의 후기</a></li></ul><li><a href=#%ea%b0%95%ec%9d%98-%eb%82%b4%ec%9a%a9-%ec%a0%95%eb%a6%ac aria-label="강의 내용 정리">강의 내용 정리</a><ul><li><a href=#%eb%8f%84%ec%bb%a4-%eb%aa%85%eb%a0%b9%ec%96%b4-%ea%b4%80%eb%a0%a8-%ec%a0%95%eb%b3%b4 aria-label="도커 명령어 관련 정보">도커 명령어 관련 정보</a></li><li><a href=#docker-compose aria-label="Docker Compose">Docker Compose</a></li><li><a href=#dockerprod-%ec%84%a4%ec%a0%95-%ea%b4%80%eb%a0%a8 aria-label="docker.prod 설정 관련">docker.prod 설정 관련</a></li><li><a href=#%ea%b8%b0%ed%83%80-%eb%aa%85%eb%a0%b9%ec%96%b4 aria-label="기타 명령어">기타 명령어</a></li></ul></li><li><a href=#aws%ec%97%90-%eb%8c%80%ed%95%b4 aria-label="AWS에 대해">AWS에 대해</a><ul><li><a href=#%eb%8f%84%ec%bb%a4-%ec%9d%b4%eb%af%b8%ec%a7%80-%ea%b3%b5%ec%8b%9d%ed%99%88%ed%8e%98%ec%9d%b4%ec%a7%80-%eb%93%b1%eb%a1%9d%ec%97%85%eb%8d%b0%ec%9d%b4%ed%8a%b8%ea%b0%80%ec%a0%b8%ec%98%a4%ea%b8%b0 aria-label="도커 이미지 공식홈페이지 등록/업데이트/가져오기">도커 이미지 공식홈페이지 등록/업데이트/가져오기</a></li></ul></li><li><a href=#%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4 aria-label=쿠버네티스>쿠버네티스</a></li></ul></div></details></div><div class=post-content><p>Udemy 강의중 Docker & Kubernetes <a href=https://www.udemy.com/course/docker-kubernetes-2022/ target=_blank>강의</a>
를
수강 후 내용 정리 및 리뷰를 작성합니다.</p><p>우선 Udemy는 외국 강의가 많고, 한달에 여러번 할인을 하기에 괜찮은 강의가 있으면 미리 결재해 놓는게 좋습니다.</p><h3 id=강의-후기>강의 후기<a hidden class=anchor aria-hidden=true href=#강의-후기>#</a></h3><p>Udemy 강의는 할인 가격이 저렴해서 그런지 외국 강의라 그런지 수강률이 높지 않은데 해당 강의는
제가 Udemy에서 수강했었던 강의 중 만족도는 상위권이라 생각합니다.</p><p>주로 Backend 개발자 입장에서 해당 강의로 얻을 수 있는 점은 Docker와 Docker-compose를 이용해 개발 생산성을 높일 수 있다 생각합니다.</p><p>물론 Kubernetes도 충분히 의미가 있었지만 강의에서 그렇게 깊게 다루진 않은 것 같습니다.</p><p>실무에서도 backend 서버 테트를 위해서 종종 front 코드를 열때도 docker-compose를 이용하면 좋습니다.</p><p><img loading=lazy src=./images/image03.png#center alt=image></p><p>위와 같이 front 프로젝트를 소스코드만 바인드 마운트로 설정 후 Docker로 프로젝트를 정의하고, docker-compose를 볼륨 이용해 여러
front 프로젝트를 관리하면 더 이상 node version과 다양한 설정에 대한 고민을 하지 않아 좋습니다.</p><h2 id=강의-내용-정리>강의 내용 정리<a hidden class=anchor aria-hidden=true href=#강의-내용-정리>#</a></h2><p><a href=https://github.com/haservi/udemy-docker-kubernetes target=_blank>클론 코딩</a>
을 하며 강의에서 들었던 내용 중 몇몇 내용을 정리했습니다.</p><h3 id=도커-명령어-관련-정보>도커 명령어 관련 정보<a hidden class=anchor aria-hidden=true href=#도커-명령어-관련-정보>#</a></h3><ul><li><code>-p</code> 포트 설정 ex) 3000:80 -> host port:container port</li><li><code>-d</code> `detached mode로 도커 컨테이너를 백그라운드에서 실행</li><li><code>--name</code> 컨테이너 이름 지정</li><li><code>--rm</code> 피드백이 중지 시 자동으로 컨테이너 제거</li><li><code>-v</code> 볼륨 지정 명명된 볼륨은 컨테이너가 제거하지 않음</li><li><code>:ro</code> 읽기 전용</li><li><code>-f</code>: 도커 파일명을 지정할 수 있음</li></ul><p>도커 내부에서 나의 로컬 호스트를 아는 방법</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>localhost:port -&gt; host.docker.internal:port
</span></span></code></pre></td></tr></table></div></div><p>docker 명령어 예제</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -d -p 3000:80 --rm --name feedback-app -v feedback:/app/feedback -v <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>:/app -v /app/node_modules feedback-node
</span></span></code></pre></td></tr></table></div></div><p>바인드 마운트 단축키</p><p>프로젝트 경로에서 <code>/src</code>만 바인드 마운트 후 docker의 /app 폴더에 바인드 마운트</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>macOS/Linux: -v<span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/src:/app/src
</span></span><span class=line><span class=cl>Windows: -v <span class=si>${</span><span class=nv>PWD</span><span class=si>}</span>/src:/app/src
</span></span></code></pre></td></tr></table></div></div><p>도커 컨테이너 및 이미지 한번에 제거</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker container prune
</span></span><span class=line><span class=cl>docker image prune <span class=c1># 이게 안되면 아래거로</span>
</span></span><span class=line><span class=cl>docker rmi <span class=k>$(</span>docker images -a -q<span class=k>)</span>
</span></span><span class=line><span class=cl>docker volume prune
</span></span></code></pre></td></tr></table></div></div><h3 id=docker-compose>Docker Compose<a hidden class=anchor aria-hidden=true href=#docker-compose>#</a></h3><p>도커 컴포즈 실행</p><ul><li>-d: detached 모드</li><li>up &ndash;build: 이미지를 리빌드</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker-compose up -d
</span></span></code></pre></td></tr></table></div></div><p>도커 컴포즈 종료</p><ul><li>-v: 볼륨과 함께 제거</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker-compose down -v
</span></span></code></pre></td></tr></table></div></div><h3 id=dockerprod-설정-관련>docker.prod 설정 관련<a hidden class=anchor aria-hidden=true href=#dockerprod-설정-관련>#</a></h3><p>Docker CMD에서 <code>CMD [ "npm", "start" ]</code>값은 기본적으로 package.json의 스크립트에 있는 start 명령어를 실행한다.<br>이외에는 가운데에 <code>CMD [ "npm", "run", "start" ]</code>을 추가해서 스크립트 실행해야한다.</p><p><a href=https://hub.docker.com/_/nginx target=_blank>nginx docker menual</a>
을 참조하여 빌드된 파일의 위치를 지정해야 한다.</p><p>멀티스테이지 빌드로 하나의 도커파일에 여러 이미지를 빌드할 수 있다.</p><p>-f: 도커 파일명을 지정할 수 있음</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker build -f frontend/Dockerfile.prod ./frontend
</span></span></code></pre></td></tr></table></div></div><h3 id=기타-명령어>기타 명령어<a hidden class=anchor aria-hidden=true href=#기타-명령어>#</a></h3><p>컨테이너 제거</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker rm <span class=o>[</span>mycontainer<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p>이미지 제거</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker rmi <span class=o>[</span>myimage<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p>볼륨 확인</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker volume ls 
</span></span></code></pre></td></tr></table></div></div><p>볼륨 제거</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker volume rm <span class=o>[</span>volume name<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=aws에-대해>AWS에 대해<a hidden class=anchor aria-hidden=true href=#aws에-대해>#</a></h2><p>AWS는 Amazon Web Services의 약어로, 아마존닷컴이 제공하는 클라우드 컴퓨팅 서비스 플랫폼입니다. AWS는 컴퓨팅, 스토리지, 데이터베이스, 분석, 인공지능, IoT 및 기타 다양한 서비스를 제공하여 기업이나 개인이 필요로 하는 IT 인프라를 클라우드 기반으로 구축하고 관리할 수 있도록 도와줍니다. 아래 링크는 AWS에 대한 강사분의 영상 설명 링크입니다.<br><a href=https://academind.com/tutorials/aws-the-basics target=_blank>AWS에 대한 유튜브 영상 링크</a></p><h3 id=도커-이미지-공식홈페이지-등록업데이트가져오기>도커 이미지 공식홈페이지 등록/업데이트/가져오기<a hidden class=anchor aria-hidden=true href=#도커-이미지-공식홈페이지-등록업데이트가져오기>#</a></h3><p>도커 이미지 등록</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker login <span class=c1># 로그인</span>
</span></span><span class=line><span class=cl>docker build -t node-dep-example . <span class=c1># 이미지 생성</span>
</span></span><span class=line><span class=cl>docker tag node-dep-example <span class=o>[</span>docker id<span class=o>]</span>/node-dep-example <span class=c1># 태그 지정</span>
</span></span><span class=line><span class=cl>docker push <span class=o>[</span>docker id<span class=o>]</span>/node-dep-example <span class=c1># 푸시</span>
</span></span></code></pre></td></tr></table></div></div><p>도커 이미지 업데이트 방법</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker build -t node-dep-example . <span class=c1># 동일한 태그로 등록</span>
</span></span><span class=line><span class=cl>docker tag node-dep-example <span class=o>[</span>docker id<span class=o>]</span>/node-dep-example:0.1 <span class=c1># 버전 명시</span>
</span></span><span class=line><span class=cl>docker push <span class=o>[</span>docker id<span class=o>]</span>/node-dep-example:0.1 <span class=c1># 푸시</span>
</span></span></code></pre></td></tr></table></div></div><p>도커 이미지 가져오기</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker pull <span class=o>[</span>docker id<span class=o>]</span>/node-dep-example:0.1
</span></span></code></pre></td></tr></table></div></div><p>팁으로 도커 이미지의 변화없이 같으면 이미지의 이름은 다르지만 이미지ID가 같아서 삭제가 안되는 경우가 있다.
이럴 때는 아래와 같이 태그를 명시해서 제거할 수 있다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker rmi <span class=o>[</span>이미지이름:tag<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=쿠버네티스>쿠버네티스<a hidden class=anchor aria-hidden=true href=#쿠버네티스>#</a></h2><p>쿠버네티스에서 사용자가 유의해야 할 것은 클러스터와 노드 생성이다.</p><p>mac apple arm 기준 설치</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew install kubectl
</span></span></code></pre></td></tr></table></div></div><p><a href=https://www.virtualbox.org/wiki/Downloads target=_blank>VitureBox</a>
설치 후 minikube 설치</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew install minikube
</span></span><span class=line><span class=cl>minikube start --driver<span class=o>=</span>virtualbox <span class=c1># 이게 안되면</span>
</span></span><span class=line><span class=cl>minikube start --driver<span class=o>=</span>docker <span class=c1># 이거</span>
</span></span></code></pre></td></tr></table></div></div><p>설치 확인</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>minikube status
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src=./images/image02.png alt=image01></p><p>대시보드 확인</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>minikube dashboard
</span></span></code></pre></td></tr></table></div></div><p>쿠버네티스의 주요 개념 중 하나는 파드(Pod)입니다.<br>파드는 쿠버네티스에서 실행되는 가장 작은 배포 단위이며, 일반적으로 파드는 하나 이상의 컨테이너로 구성되며, 이 컨테이너들은 동일한 호스트에서 동작하고 동일한 네트워크 네임스페이스와 IP 주소를 공유합니다.</p><p><code>kubectl api-resources</code>를 입력하면 kubectl의 명령어를 어느 정도 확인 할 수 있습니다.</p><p>Pod란?</p><p>Kubernetes(K8s)에서 Pod는 가장 작은 배포 단위이며, Pod는 K8s 클러스터 내에서 실행되는 하나 이상의 컨테이너 그룹입니다. Pod는 논리적인 호스트 또는 노드에서 실행되며, 컨테이너, 저장소, 네트워크 리소스 등을 공유할 수 있습니다.<br>각각의 Pod는 고유한 IP 주소를 가지며, 포트 공간을 공유하여 서로 통신할 수 있습니다. Pod는 주로 관련된 서비스를 함께 실행하기 위해 사용되며, 서비스 디스커버리, 로깅, 모니터링 등을 위한 사이드카 컨테이너를 함께 포함할 수도 있습니다.</p><p>Pod는 일시적인 존재이며, 언제든지 새로운 Pod로 교체될 수 있으며, 이는 확장성과 견고성을 높이기 위한 K8s의 핵심 개념 중 하나입니다.</p><p>노드(Node)는 K8s 클러스터의 물리적 또는 가상의 서버입니다. 노드는 Pod를 실행하는 호스트로 사용되며, 컨테이너 런타임(예: Docker)과 K8s 에이전트가 설치되어 있습니다. 각 노드는 일련의 리소스(CPU, 메모리, 디스크 등)를 제공하고, Pod를 스케줄링하여 실행합니다. 여러 개의 Pod는 여러 노드에 분산되어 실행될 수 있습니다.</p></div><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-1400973749140762 data-ad-slot=9822233283></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://haservi.github.io/posts/tips/vue-code-convetion/><span class=title>« 이전 페이지</span><br><span>Vue Prettier로 코드 정렬하기</span></a>
<a class=next href=https://haservi.github.io/posts/nodejs/start-nodejs/><span class=title>다음 페이지 »</span><br><span>Nodejs 프로젝트 적응기</span></a></nav></footer><section class=comments><script>loadComment();function loadComment(){document.body.className.includes("dark")?theme="photon-dark":theme="boxy-light";let e=document.createElement("script");e.src="https://utteranc.es/client.js",e.setAttribute("repo","haservi/haservi.github.io"),e.setAttribute("issue-term","pathname"),e.setAttribute("theme",theme),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),document.querySelector("section.comments").innerHTML="",document.querySelector("section.comments").appendChild(e)}</script></section></article></main><footer class=footer><span>&copy; 2024 <a href=https://haservi.github.io/>Halog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,background:"#1d1e20",scrollOffset:40,container:null,template:null})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")),loadComment()})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="복사";function s(){t.innerHTML="복사 완료!",setTimeout(()=>{t.innerHTML="복사"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>